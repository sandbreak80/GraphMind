# GraphMind Environment Configuration
# Complete environment file for GraphMind deployment

# Frontend Domain Configuration
FRONTEND_DOMAIN=emini.riffyx.com

# GraphMind Core Configuration
GRAPHMINDSERVER_HOST=0.0.0.0
GRAPHMINDSERVER_PORT=8000
GRAPHMINDSERVER_WORKERS=4

# Database Configuration
CHROMA_HOST=chromadb
CHROMA_PORT=8001
CHROMA_COLLECTION_NAME=graphmind_documents

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Ollama Configuration
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_HOST=0.0.0.0
OLLAMA_PORT=11434

# SearXNG Configuration
SEARXNG_URL=http://searxng:8080
SEARXNG_BASE_URL=http://localhost:8080

# MCP Configuration
MCP_ENABLED=true
MCP_DOCKER_SOCKET=/var/run/docker.sock
MCP_OBSIDIAN_VAULT_PATH=/app/obsidian_vault
MCP_FILESYSTEM_ROOT_PATH=/app

# Obsidian Configuration
OBSIDIAN_VAULT_PATH=/app/obsidian_vault
OBSIDIAN_MCP_PORT=8081

# Docker MCP Configuration
DOCKER_MCP_PORT=8082

# Filesystem MCP Configuration
FILESYSTEM_MCP_PORT=8083

# Memory System Configuration
MEMORY_DIR=/app/memory
MAX_MEMORY_SIZE=1000

# Document Processing Configuration
DOCUMENTS_DIR=/app/documents
MAX_DOCUMENT_SIZE=50MB
SUPPORTED_FORMATS=pdf,md,txt,docx,xlsx,pptx

# Embedding Configuration
EMBEDDING_MODEL=BAAI/bge-m3
EMBEDDING_DIMENSION=1024
EMBEDDING_BATCH_SIZE=32

# Reranking Configuration
RERANKING_MODEL=BAAI/bge-reranker-large
RERANKING_TOP_K=8

# Retrieval Configuration
RETRIEVAL_TOP_K=5
RETRIEVAL_BATCH_SIZE=10
RETRIEVAL_TIMEOUT=30

# API Configuration
API_RATE_LIMIT=100
API_TIMEOUT=300
API_MAX_REQUEST_SIZE=10MB

# Security Configuration
SECRET_KEY=your-secret-key-here
JWT_SECRET=your-jwt-secret-here
CORS_ORIGINS=http://localhost:3000,https://emini.riffyx.com

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_ENABLED=true
GRAFANA_PORT=3001

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/graphmind.log

# Performance Configuration
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1024
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=10M

# SSL Configuration (for production)
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Development Configuration
DEBUG=false
RELOAD=true
HOT_RELOAD=true

# Docker Configuration
DOCKER_NETWORK=graphmind-network
DOCKER_RESTART_POLICY=unless-stopped

# Volume Mounts
CHROMA_DATA_PATH=/chroma/chroma
REDIS_DATA_PATH=/data
OLLAMA_DATA_PATH=/root/.ollama
SEARXNG_DATA_PATH=/var/log/searxng
PROMETHEUS_DATA_PATH=/prometheus
GRAFANA_DATA_PATH=/var/lib/grafana

# Service URLs (for internal communication)
GRAPHMINDSERVER_URL=http://graphmind-rag:8000
FRONTEND_URL=http://graphmind-frontend:3000
CHROMA_URL=http://chromadb:8000
REDIS_URL=redis://redis:6379
SEARXNG_URL=http://searxng:8080
OLLAMA_URL=http://ollama:11434
OBSIDIAN_MCP_URL=http://obsidian-mcp:8081
DOCKER_MCP_URL=http://docker-mcp:8082
FILESYSTEM_MCP_URL=http://filesystem-mcp:8083
PROMETHEUS_URL=http://prometheus:9090
GRAFANA_URL=http://grafana:3000

# External URLs (for public access)
PUBLIC_FRONTEND_URL=https://emini.riffyx.com

# Internal URLs (for Docker network communication only)
INTERNAL_API_URL=http://graphmind-rag:8000
INTERNAL_CHROMA_URL=http://chromadb:8000
INTERNAL_REDIS_URL=redis://redis:6379
INTERNAL_SEARXNG_URL=http://searxng:8080
INTERNAL_OLLAMA_URL=http://ollama:11434
INTERNAL_OBSIDIAN_MCP_URL=http://obsidian-mcp:8081
INTERNAL_DOCKER_MCP_URL=http://docker-mcp:8082
INTERNAL_FILESYSTEM_MCP_URL=http://filesystem-mcp:8083
INTERNAL_PROMETHEUS_URL=http://prometheus:9090
INTERNAL_GRAFANA_URL=http://grafana:3000
